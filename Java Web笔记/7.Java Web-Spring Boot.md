# 一、springboot介绍
## 1）简介
spring boot是spring提供地一个子项目，用于快速构建Spring应用程序
如图所示：
![](./图片/SpringBoot-概述.png)
#### 传统方式构建spring应用程序
- 导入依赖繁琐
需要配置一堆xml依赖
- 项目配置繁琐
需要在xml中配置一堆功能。
## 2）springboot的特性
### （1）起步依赖
本质上就是一个Maven坐标，整合了完成一个功能需要的所有坐标
### （2）自动配置
遵循约定大约配置的原则，在boot程序启动后，一些bean对象会自动注入到ioc容器，不需要手动声明，简化开发（如mybatis项目中自动配置好的pom.xml）
### （3）其他特性
- 内嵌的Tomcat、Jetty（无需部署WAR文件）
- 外部化配置
- 不需要XML配置（properties/yml）（已经全部在pom.xml里了）
# 二、SpringBoot入门
## 1）经典示例
需求：使用SpringBoot开发一个web应用，浏览器发起请求/hello后，给浏览器返回字符串“hello world ~”。
#### 步骤：
1. 创建Maven工程
2. 导入spring-boot-stater-web起步依赖（在IDEA的新建springboot工程中，选择依赖中找到Web，再勾选Spring Web即可）
3. 编写Controller
4. 提供启动类（IDEA已经帮我们提供好了）
其中HelloController：
```java
package com.itheima.springbootstart.controller;  
  
import org.springframework.web.bind.annotation.RequestMapping;  
import org.springframework.web.bind.annotation.RestController;  
  
@RestController  
public class HelloController {  
    @RequestMapping("/hello")  
    public String hello() {  
        System.out.println("Hello World~");  
        return "hello world";  
    }  
}
```
测试main：
```java
package com.itheima.springbootstart;  
  
import org.springframework.boot.SpringApplication;  
import org.springframework.boot.autoconfigure.SpringBootApplication;  
import org.springframework.context.annotation.ComponentScan;  
  
@SpringBootApplication  
public class SpringBootStartApplication {  
    public static void main(String[] args) {  
        SpringApplication.run(SpringBootStartApplication.class, args);  
    }  
}
```
访问`http://localhost:8080/hello`，就可以看到hello world导入页面了。
## 2）手动创建Springboot工程
步骤：
1. 创建Maven工程
在IDEA的构建模块中，选择Maven Archetype。在Archetype中，选择`org.apache.maven.archetypes:maven-archetype-quickstart`骨架，点击创建
2. 引入依赖
加入以下依赖：
```xml
<!--  须加入的依赖-->  
  <parent>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-parent</artifactId>  
    <version>3.5.3</version>  
  </parent>

<!--    需加入的依赖（dependencies里面）     -->  
    <dependency>  
      <groupId>org.springframework.boot</groupId>  
      <artifactId>spring-boot-starter</artifactId>  
    </dependency>
```
3. 提供启动类
将App更名为SpringBootCreateManualApplication，加入注解然后构建：
```java
@SpringBootApplication  
public class SpringBootCreateManualApplication {  
    public static void main(String[] args) {  
        SpringApplication.run(SpringBootCreateManualApplication.class, args);  
    }  
}
```
即可手动建立SpringBoot工程。
## 3）配置文件
### （1）properties配置文件
关于application.properties：
上述hello world例子中，如果我们想把8080端口改为9090，把context path改为'/start'，我们就要用application.properties来修改。
语法示例：
```properties
server.port=9090
server.servlet.context-path=/start
```
修改后，想要访问hello world页面，只能够通过 [这个链接](http://localhost:9090/start/hello)访问。
### （2）配置文件格式
- SpringBoot提供了多种属性配置方式
	- application.properties
	- application.yml / application.yaml
语法示例：
```yml
server:
	port:9191
	servlet:
		context-path: /start2
```
显然第二种更加简洁好用，故在实际开发中，优先用yml配置文件。
### （3）yml配置信息书写与读取
步骤：
1. 三方技术配置信息
2. 自定义配置信息
案例：邮件发送系统。
springboot需要导入下列依赖：
```xml
<dependency>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-mail</artifactId>  
</dependency>  
<dependency>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-web</artifactId>  
</dependency>
```
一个是收发邮件的API，一个是Web依赖。
在发邮件的类中，有：发件人邮箱、授权码、发件人邮箱对应的应用服务、身份验证等信息。
这个时候我们可以将这些信息转到application.properties上：
```properties
email.user = xxxx@qq.com
email.code = xxxx
email.host = xxxx
email.auth = true
```
或者
```yml
email:
	user: xxxxx
	code: xxxx
	host: xxxxx
	auth: true
```
**注意点：**
- 值前面必须有空格，作为分隔符
- 使用空格作为缩进表示层级关系，相同的层级左侧对齐
想要把配置文件里面的信息导入到类中，需要以下操作：
```java
@Value("${email.user}")
public String user;
//其他以此类推
```
也可以在类名前面添加注解：`@ConfigurationProperties(prefix = "email")`
## 4）整合mybatis
**注：package = com.itheima.springbootmybatis**
项目代码如下：
package.controller.EmpController：
```java
package com.itheima.springbootmybatis.controller;  
  
import com.itheima.springbootmybatis.pojo.Emp;  
import com.itheima.springbootmybatis.service.EmpService;  
import org.springframework.beans.factory.annotation.Autowired;  
import org.springframework.web.bind.annotation.RequestMapping;  
import org.springframework.web.bind.annotation.RestController;  
  
@RestController  
public class EmpController {  
    @Autowired  
    private EmpService empService;  
  
  
    @RequestMapping("/info")  
    public Emp findById(Integer id) {  
        return empService.getById(10);  
    }  
}
```
package.mapper.EmpMapper：
```java
package com.itheima.springbootmybatis.mapper;  
  
import com.itheima.springbootmybatis.pojo.Emp;  
import org.apache.ibatis.annotations.Mapper;  
import org.apache.ibatis.annotations.Select;  
  
@Mapper  
public interface EmpMapper {  
    @Select("select id, username, password, name, gender, image, job, entrydate, dept_id, " +  
            "create_time createTime, update_time updateTime from emp where id = #{id}")  
    public Emp getById(Integer id);  
}
```
