## 一、合法性校验
### （1）在登录时
1. 传统方法：
```java
if (username != null && username.length() >= 5 && username.length() <= 16 &&  
        password != null && password.length() >= 5 && password.length() <= 16) {
```
这种方法虽然简单，但是代码冗长，所以用下面的方法。
2. spring validation：
首先添加依赖：
```java
```xml
<!--      Spring Validation    -->  
      <dependency>  
          <groupId>org.springframework.boot</groupId>  
          <artifactId>spring-boot-starter-validation</artifactId>  
      </dependency>
```
然后在Controller方法的形参处添加@Pattern(regexp="xxxxxx")，就可以更加简便地校验用户名和密码。
### （2）在类里面使用
1. 直接在成员变量上面添加：    @Pattern(regexp = "xxxxx")  , @NotEmpty,    @NotNull等功能，再将Controller类里的形参加上@Validated注解，从而可以进行参数校验。
2. 我们也可以自定义注解校验：如state状态的已发布|草稿状态的校验。
3. 分组校验：在实体类中定义形如`public interface Add {}`的接口，然后在1中校验注解后面加入`（groups={Add.class}）`，在Controller类中加入`@Validated(Article.Add.class)`，我们就可以将某个功能的参数校验分组处理。
## 二、难点
## 1）JWT
加入依赖，需要使用载荷+口令+有效时间，通过MD5工具类加密成md5密钥，然后通过之前的口令解密，获取claims内的信息。
## 2）ThreadLocal
用户登录后，通过ThreadLocalUtil记录用户id，保存为键值对，从而提供给后续需要用户id的功能使用数据。
## 3）动态sql
需要定义一个xml文件，使用xml语句动态决定是否要在sql语句中将某个形参传入。